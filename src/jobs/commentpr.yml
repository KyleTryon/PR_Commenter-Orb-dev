description: Take the contents of the commit message and add as a comment to the currently open PR request.

# parameters:
#   token:
#     description: Your GitHub API Token for submitting the PR comment.
#     type: string
#     default: ${GITHUB_TOKEN}

executor: default

steps:
  - run:
      name: Submitting PR comment
      command: |
        #Check if current job is part of a Pull Request
        if [ -z $CIRCLE_PULL_REQUEST ]
        then
          echo $CIRCLE_PULL_REQUEST
        else
          echo "This is not a pull request. If you intend to open an pull request after this commit, all preceeding commits will be commented"
          echo exit 1
        fi
